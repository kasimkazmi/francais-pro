'use client';

import React from 'react';
import { cn } from '@/lib/utils';

interface HalloweenWitchHatProps {
  size?: 'sm' | 'md' | 'lg' | 'xl';
  color?: 'black' | 'purple' | 'green'; // note: color is forwarded to SVG via currentColor
  animated?: boolean;
  className?: string;
}

const sizeClasses = {
  sm: 'w-6 h-6',
  md: 'w-8 h-8',
  lg: 'w-12 h-12',
  xl: 'w-16 h-16'
};

const colorClasses = {
  black: 'text-black',
  purple: 'text-purple-800',
  green: 'text-green-800'
};

const WitchHatSVG = ({ className, color }: { className: string; color: string }) => (
  <svg
    version="1.1"
    id="Layer_1"
    xmlns="http://www.w3.org/2000/svg"
    xmlnsXlink="http://www.w3.org/1999/xlink"
    x="0px"
    y="0px"
    viewBox="0 0 750 750"
    xmlSpace="preserve"
    className={className}
  >
    <path d="M722.7,479.3c-3.8-8.9-15.3-4.9-23.5-4.4c-24.8,1.5-48.3,10-72.8,13.4c-36.9,5.2-73.7,0.8-110.6-0.4
			c-6-0.2-7.2-3.9-7.9-8.9c-4.8-35.9-14-70.4-31.1-102.7c-5.9-11.2-7.9-23.9-9.3-36.5c-2.2-19.7-8.4-37.7-19.8-53.9
			c-11.7-16.7-21.1-34.5-28.8-53.3c-6.9-16.8-17.8-29.9-33-39.9c-15-9.9-29.4-20.8-44.2-31.1c-14.1-9.8-30.2-14.1-47.2-13.9
			c-22.5,0.2-45,0.6-67.5,2c-59.1,3.6-108.3,72.7-92.6,129.7c0.9,3.4,2.4,6.6,4.6,12.4c7.2-11.7,5.9-22.5,8.9-32.2
			c4.7-15.4,10.4-29.9,24.5-39.1c35.2-23.1,62.7-18.6,84.5,14.2c16.9,25.4,27.2,52.3,26.8,83.3c-0.3,22.3,7.6,44.9-3,66.6
			c-17.3,35.3-27.2,73.1-39.2,110.3c-2.1,6.5-5.8,9-12.7,9.2c-61.9,1.7-121.8-8.5-180.4-28c-6.7-2.2-15.7-9.4-20.6-1.6
			c-4.3,6.9,4,14,9.2,19.3c17,17.6,39.1,27,61.1,36.2c67.8,28.3,139,45.9,209.3,66.3c33.4,9.7,68,4.5,102.2,4.3
			c55.9-0.4,110-13.3,163.4-27.3c50.8-13.3,97.7-36.5,137.4-72.1C716.6,495.4,726.6,488.4,722.7,479.3z M298.5,521.1
			c-9.2-1.4-18.3-3.3-27.4-5.6c-7.5-1.9-16.8-3.4-23.8-6.9c-1.5-0.8-2.8-2.1-3.1-3.8c-0.2-1.3,0.2-2.7,0.6-4
			c4.7-13.9,9.1-27.5,12.4-41.9c1.6-6.9,3.7-10.9,12.8-7.4c9.9,3.9,21,4.4,31.2,7.6c8.8,2.8,21.6-3.3,26.1,5.7
			c3.3,6.6,1.3,14,1.1,20.9c-0.2,9,0.5,18.1,0.8,27.1C329.8,529.1,308.6,522.7,298.5,521.1z M434.2,517.7
			c-0.1,10.6-5.9,17-16.2,18.3c-21.8,2.7-43.6,6.5-65.7,6.1c-13.6-0.3-18.8-4.9-19.4-18.4c-0.4-10.3-0.1-20.7-0.1-31
			c-0.1,0-0.2,0-0.3,0c0-9.4-0.1-18.9,0-28.3c0.2-14.5,4.8-19.7,19.2-19.9c20.7-0.3,41.2-2.3,61.8-4.4c12.8-1.3,20.1,4.4,20.4,17.1
			C434.6,477.3,434.3,497.5,434.2,517.7z M499.4,495.5c-10.6,3.6-21.1,7.6-31.9,10.8c-29.6,8.8-29.7,8.7-29.6-22.1
			c0-3.6,0.5-7.3-0.1-10.8c-2-13.1,2.1-20.2,16.5-19.9c7.1,0.1,14.3-1.6,21.3-2.8c20.5-3.5,20.5-3.5,24.7,17.8c1.1,5.7,2,11.6,4,17
			C506.5,491.1,504.5,493.8,499.4,495.5z M416.4,457.8c-7.2-7.6-23.4-0.1-32.6,0.1c-1.1,0-2.3,0-3.5,0c-9.2,0-20.2,0.1-27.1,6.1
			c-5.7,5-5.3,13.9-5.2,20.8c0.1,9,0,18,0.6,26.9c0.7,9.2,3.2,12.9,12.4,13.8c9.2,1,18.5,0.6,27.6-1.1c6.9-1.3,14.8-1.8,21.3-4.5
			c11-4.5,8.7-18.6,8.6-28.3C418.4,480.2,423.5,465.2,416.4,457.8z M414.3,479.8c-0.3,6.7-0.2,13.4-0.4,20.1
			c-0.2,7.6-1.9,15.7-9.8,18.1c-7.1,2.1-15,2-22.3,2.4c-6.9,0.4-21.1,3.6-26-3.4c-2.1-3.1-2-7.8-2-11.4c-0.2-11.1-3.5-25.2,2.3-35.3
			c4.3-7.5,8.8-7.4,16.8-7.1c9.4,0.3,18.4-2.2,27.6-2.4c3.4-0.1,7,0.7,9.7,2.9C415.1,467.5,414.6,474.1,414.3,479.8z"
      fill="currentColor"
    />
  </svg>
);

export function HalloweenWitchHat({
  size = 'md',
  color = 'black',
  animated = false,
  className = ''
}: HalloweenWitchHatProps) {
  return (
    <div
      className={cn(
        'inline-flex items-center justify-center',
        sizeClasses[size],
        colorClasses[color],
        animated && 'halloween-witch-hat-bounce',
        className
      )}
    >
      <WitchHatSVG className="w-full h-full" color={color} />
    </div>
  );
}
